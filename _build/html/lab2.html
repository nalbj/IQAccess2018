
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3. BIG-IQ Device Management &#8212; Agility 2018 BIG-IQ CM Access - Self Guided  documentation</title>
    
    <link rel="stylesheet" href="_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/f5_agility_theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="2. BIG-IQ Access Policy Manager" href="lab1.html" />
<!--
# Copyright 2017 F5 Networks
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
-->
<link href="https://cdn.f5.com/favicon.ico" rel="icon">
<script src="https://use.fontawesome.com/21fb8a09c3.js"></script>
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>
  <body>
  <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="row corp-header">
      <div class="container corp-header">
        <div class="container corp-menu">
          <ul>
            <li><a href="https://f5.com" class="internalLink">F5.com</a></li>
            <li><a href="https://support.f5.com">Support</a></li>
            <li><a href="https://devcentral.f5.com">Community</a></li>
            <li><a href="https://github.com/F5Networks">GitHub</a></li>
            <li><a href="https://f5.com/about-us/careers">Careers</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="row pageHeader">
      <div class="container stat">
        <div class="col-xs-12 stat">
          <a class="internalLink" href="https://f5.com">
            <img class="logo" src="https://cdn.f5.com/websites/support/assets/images/logo.svg" width="50" height="44" alt="F5 Networks" title="F5 Networks" border="0">
          </a>
            <ul id="MainMenu" class="main-menu">
              <li>
                <a href="#">Products
                  <span class="indicator"><span class="arrow-up"></span></span>
                </a>

                <div class="menu-panel soft-hide" id="ProductsSubmenu">
                  <div class="container">
                    <ul class="submenu col-sm-11">
                      <li class="third"><span class="a-mm-h">Connectors</span>
                        <ul>
                          <li><a href="http://clouddocs.f5.com/products/connectors/marathon-bigip-ctlr/latest" data-link-type="Nav: Mega">F5 Marathon BIG-IP Controller</a></li>
                          <li><a href="http://clouddocs.f5.com/products/connectors/marathon-asp-ctlr/latest" data-link-type="Nav: Mega">F5 Marathon ASP Controller</a></li>
                          <li><a href="http://clouddocs.f5.com/products/connectors/k8s-bigip-ctlr/latest" data-link-type="Nav: Mega">F5 Kubernetes BIG-IP Controller</a></li>
                          <li><a href="http://clouddocs.f5.com/products/connectors/f5-kube-proxy/latest" data-link-type="Nav: Mega">F5 Kubernetes Proxy</a></li>
                        </ul>
                        <!--span class="seemore"><a data-link-type="Nav: Mega" href="/products/connectors">See all </a></--span-->
                      </li>
                      <li class="divider"></li>
                      <li class="third"><span class="a-mm-h">Application Service Proxy</span>
                        <ul>
                          <li><a href="http://clouddocs.f5.com/products/asp/latest" data-link-type="Nav: Mega">F5 Application Service Proxy</a></li>
                        </ul>
                        <!--span class="seemore"><a href="/products/">See all </a></span-->
                      </li>
                    </ul>
                  </div>
                </div>
              </li>
              <li>
                <a href="#">Container Integrations
                  <span class="indicator"><span class="arrow-up"></span></span>
                </a>

                <div class="menu-panel soft-hide" id="ContainersSubmenu">
                  <div class="container">
                    <ul class="submenu col-sm-11">
                      <li class="third"><span class="a-mm-h">Container Integrations</span>
                        <ul>
                          <li><a href="http://clouddocs.f5.com/containers/latest/marathon/" data-link-type="Nav: Mega">Mesos Marathon</a></li>
                          <li><a href="http://clouddocs.f5.com/containers/latest/kubernetes/" data-link-type="Nav: Mega">Kubernetes</a></li>
                          <li><a href="http://clouddocs.f5.com/containers/latest/openshift/" data-link-type="Nav: Mega">RedHat OpenShift</a></li>
                        </ul>
                        <span class="seemore"><a data-link-type="Nav: Mega" href="http://clouddocs.f5.com/containers/latest">View details </a></span>
                      </li>
                    </ul>
                  </div>
                </div>
              </li>
              <li>
                <a href="#">Clouds
                  <span class="indicator"><span class="arrow-up"></span></span>
                </a>

                <div class="menu-panel soft-hide" id="CloudsSubmenu">
                  <div class="container">
                    <ul class="submenu col-sm-11">
                      <li class="third"><span class="a-mm-h">Cloud Integrations</span>
                        <ul>
                          <li><a href="http://clouddocs.f5.com/cloud/openstack/" data-link-type="Nav: Mega">OpenStack</a></li>
                        </ul>
                        <!--span class="seemore"><a data-link-type="Nav: Mega" href="/cloud/">See all </a></span-->
                      </li>
                    </ul>
                  </div>
                </div>
              </li>
              <li>
                <a href="#">Resources
                  <span class="indicator"><span class="arrow-up"></span></span>
                </a>
                <div class="menu-panel soft-hide" id="UPCProgramSubmenu">
                  <div class="container">
                    <ul class="submenu col-sm-11">
                      <li class="third">
                        <span class="a-mm-h">Downloads</span>
                        <ul>
                          <li><a target="_blank" data-link-type="Nav: Mega" href="https://hub.docker.com/r/f5networks/" class="internalLink">Docker Hub</a></li>
                          <li><a target="_blank" data-link-type="Nav: Mega" href="https://store.docker.com/images/f5networks" class="internalLink">Docker Store</a></li>
                        </ul>
                      </li>
                      <li class="divider"></li>

                      <li class="third">
                        <span class="a-mm-h">OpenSource</span>
                        <ul>
                          <li><a target="_blank" data-link-type="Nav: Mega" href="https://github.com/F5Networks" class="internalLink">GitHub</a></li>
                        </ul>
                      </li>
                      <li class="divider"></li>

                      <li class="third">
                        <a href="//university.f5.com" class="a-mm-h internalLink" target="_blank" data-link-type="Nav: Mega">F5 University</a>
                        <ul>
                          <li>
                            <p>Get up to speed with free self-paced courses</p>
                          </li>
                        </ul>
                        <a data-ng-href="https://devcentral.f5.com" class="a-mm-h internalLink" target="_blank" data-link-type="Nav: Mega" href="https://devcentral.f5.com">DevCentral</a>
                        <ul>
                          <li>
                            <p>Join the community of 250,000+ technical peers</p>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </div>
                </div>
              </li>
            </ul>
        </div>
      </div>
    </div>
  </div> <!-- /container-fluid -->
</nav>

  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-3 col-md-3 sidebar">
         <h4><a href="./">Agility 2018 BIG-IQ CM Access - Self Guided </a></h4>
<div id="searchbox" style="display: none" role="search">
  <form class="search" action="search.html" method="get">
    <div>
      <input type="text" name="q" placeholder="Search" style="padding-left: 6px;"/>
      <!-- <input type="submit" value="Go" style="margin-top: 4px;"/> -->
      <button type="submit" class="btn btn-primary btn-xs">Go</button>
    </div>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <p class="caption">
   <span class="caption-text">Current Page</span>
  </p>
  <ul>
<li><a class="reference internal" href="#">3. BIG-IQ Device Management</a><ul>
<li><a class="reference internal" href="#workflow-1-removing-previously-discovered-devices-for-this-lab-exercise">3.1. WORKFLOW 1: Removing Previously Discovered devices for this LAB Exercise</a></li>
<li><a class="reference internal" href="#workflow-2-importing-big-ip-devices-for-management-and-inventory-required">3.2. WORKFLOW 2: Importing BIG-IP devices for management and inventory (REQUIRED)</a><ul>
<li><a class="reference internal" href="#big-ip-devices">3.2.1. Big-IP Devices</a></li>
</ul>
</li>
<li><a class="reference internal" href="#workflow-5-automating-device-backups-and-archiving-a-copy-of-the-backup-file">3.3. WORKFLOW 5: Automating device backups and archiving a copy of the backup file</a></li>
<li><a class="reference internal" href="#workflow-6-uploading-qkviews-to-ihealth-for-a-support-case">3.4. WORKFLOW 6: Uploading QKviews to iHealth for a support case</a></li>
</ul>
</li>
</ul>


<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab1.html">2. BIG-IQ Access Policy Manager</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. BIG-IQ Device Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#workflow-1-removing-previously-discovered-devices-for-this-lab-exercise">3.1. WORKFLOW 1: Removing Previously Discovered devices for this LAB Exercise</a></li>
<li class="toctree-l2"><a class="reference internal" href="#workflow-2-importing-big-ip-devices-for-management-and-inventory-required">3.2. WORKFLOW 2: Importing BIG-IP devices for management and inventory (REQUIRED)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#big-ip-devices">3.2.1. Big-IP Devices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#workflow-5-automating-device-backups-and-archiving-a-copy-of-the-backup-file">3.3. WORKFLOW 5: Automating device backups and archiving a copy of the backup file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#workflow-6-uploading-qkviews-to-ihealth-for-a-support-case">3.4. WORKFLOW 6: Uploading QKviews to iHealth for a support case</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="lab1.html"
                        title="previous chapter">2. BIG-IQ Access Policy Manager</a></p>
        
      </div>
      <div class="col-md-offset-3 col-sm-offset-3 main">
        <h4>
          <a href="/">Community Training Classes &amp; Labs</a> &gt; <a href="index.html">Agility 2018 BIG-IQ CM Access - Self Guided</a>
          <span class="right"><a href="genindex.html">Index</a></span>
        </h4>
        
  <div class="section" id="big-iq-device-management">
<h1>3. BIG-IQ Device Management<a class="headerlink" href="#big-iq-device-management" title="Permalink to this headline">¶</a></h1>
<p>The following workflows will get you familiar with the BIG-IQ for
management of BIG-IP devices specific to managing Access Policy Manager.
This course is not intented to walk through all the required steps to
implement BIG-IQ and setup logging and statistics collection. That
information can be referenced from the BIG-IQ CM Implementation Guide.
For this BIG-IQ Access lab we will proceed to general ADC management
tasks (importing a BIG-IP and managing its configuration).</p>
<div class="section" id="workflow-1-removing-previously-discovered-devices-for-this-lab-exercise">
<h2>3.1. WORKFLOW 1: Removing Previously Discovered devices for this LAB Exercise<a class="headerlink" href="#workflow-1-removing-previously-discovered-devices-for-this-lab-exercise" title="Permalink to this headline">¶</a></h2>
<p>Since this Self Guided Lab started with the BIG-IQ pre populated with
the BIG-IP devices for the previous exercises we must now remove some of
those devices before continuing on to the next workflow.</p>
<p>Navigate to the top menu Devices tab then on the left menu select BIG-IP
Devices</p>
<p>Place a check in the box next to BOS-vBIGIP01.termmarc.com</p>
<p><a class="reference internal" href="media/image57.png"><img alt="image57" src="media/image57.png" style="width: 6.50000in; height: 2.26458in;" /></a></p>
<p>Now click the Remove All Services button.</p>
<p><a class="reference internal" href="media/image58.png"><img alt="image58" src="media/image58.png" style="width: 3.55095in; height: 1.12295in;" /></a><a class="reference internal" href="media/image59.png"><img alt="image59" src="media/image59.png" style="width: 2.77869in; height: 1.19931in;" /></a></p>
<p>You will see on the services column the services are being removed. When
it displays only Management you can perform the same steps to the second
BIG-IP device named BOS-vBIGIP02.termmarc.com</p>
<p>Navigate to the Devices Tab BIG-IP Clusters menu Access Groups sub-menu</p>
<p>Verify if the BostonAG Access Group still exists and if so do the
following task otherwise skip to next step.</p>
<ol class="loweralpha">
<li><p class="first">Place a check in the box next to BOSTON and click the REMOVE button</p>
<blockquote>
<div><p><a class="reference internal" href="media/image60.png"><img alt="image60" src="media/image60.png" style="width: 4.84426in; height: 1.91390in;" /></a></p>
</div></blockquote>
</li>
</ol>
<p>Navigate to BIG-IP Clusters DSC Groups</p>
<p>If there are any datasync groups from either of the BOS devices shown
then click the Refresh List button and verify they are removed.</p>
<p><a class="reference internal" href="media/image61.png"><img alt="image61" src="media/image61.png" style="width: 6.50000in; height: 1.54375in;" /></a></p>
<p>Navigate to Devices Device Groups menu</p>
<p>Verify the BostonDCGroup is gone, if not place a check in the box next
to BostonDCGroup and click the Delete button.</p>
<p><a class="reference internal" href="media/image62.png"><img alt="image62" src="media/image62.png" style="width: 3.48361in; height: 1.43265in;" /></a></p>
<p>Navigate to Devices BIG-IP Devices</p>
<p>Place a check in the box next to both BOS-vBIGIP01.termmarc.com and
BOS-vBIGIP02.termmarc.com BIG-IP devices and click the Remove Devices
button and confirm.</p>
<p><a class="reference internal" href="media/image63.png"><img alt="image63" src="media/image63.png" style="width: 6.50000in; height: 1.77569in;" /></a></p>
<p><a class="reference internal" href="media/image64.png"><img alt="image64" src="media/image64.png" style="width: 6.50000in; height: 2.03819in;" /></a></p>
<p>The Final result should only display the west BIG-IPs like the picture
below.</p>
<p><a class="reference internal" href="media/image65.png"><img alt="image65" src="media/image65.png" style="width: 6.50000in; height: 1.24931in;" /></a></p>
<p>Now logon to both the BOS-vBIGIP01.termmarc.com and
BOS-vBIGIP02.termmarc.com BIG-IP devices directly and verify they are no
longer showing that they are managed by BIG-IQ.</p>
<p><a class="reference internal" href="media/image66.png"><img alt="image66" src="media/image66.png" style="width: 1.90883in; height: 1.11475in;" /></a><a class="reference internal" href="media/image67.png"><img alt="image67" src="media/image67.png" style="width: 2.24590in; height: 1.10238in;" /></a></p>
</div>
<div class="section" id="workflow-2-importing-big-ip-devices-for-management-and-inventory-required">
<h2>3.2. WORKFLOW 2: Importing BIG-IP devices for management and inventory (REQUIRED)<a class="headerlink" href="#workflow-2-importing-big-ip-devices-for-management-and-inventory-required" title="Permalink to this headline">¶</a></h2>
<p>Normally these steps are preformed first however we wanted to focus
first on management and monitoring of the Access infrastructure in the
beginning of the LAB. From this point forward we will be reviewing some
of the first step of managing devices for onboarding of BIG-IP devices
and their services which they are running using the BIG-IQ is device
discovery. The basic discovery allows for device inventory, device
health monitoring, backup and restore of the managed device, integration
with F5’s iHealth service, software upgrade, and device template
deployment. As part of the discovery process, you can choose to manage
other parts of the BIG-IP configuration.</p>
<p>In this scenario, we will import a pair (clustered) of BIG-IP devices,
review the device information available in BIG-IQ, export our inventory
to a CSV file, and review that.</p>
<blockquote>
<div>Adding devices to BIG-IQ Inventory:</div></blockquote>
<p><strong>*Dependencies: *</strong></p>
<ol class="arabic simple">
<li>The BIG-IP device must be located in your network.</li>
<li>The BIG-IP device must be running a compatible software version.</li>
</ol>
<p><strong>*BIG-IP Versions*</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Functional Description</strong></th>
<th class="head"><strong>Minimum BIG-IP version</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Backup/Restore</td>
<td>11.5.0 HF7</td>
</tr>
<tr class="row-odd"><td>Upgrade - legacy devices</td>
<td>10.2.0</td>
</tr>
<tr class="row-even"><td>Upgrade - managed devices</td>
<td>11.5.0 HF7</td>
</tr>
<tr class="row-odd"><td>Licensing BIG-IP VE</td>
<td>11.5.0 HF7</td>
</tr>
<tr class="row-even"><td>Licensing - WebSafe</td>
<td>12.0.0</td>
</tr>
<tr class="row-odd"><td>ADC management</td>
<td>11.5.1 HF4</td>
</tr>
<tr class="row-even"><td>AFM</td>
<td>11.5.2</td>
</tr>
<tr class="row-odd"><td>Access</td>
<td>12.1.0</td>
</tr>
<tr class="row-even"><td>ASM</td>
<td>11.5.3 HF1</td>
</tr>
<tr class="row-odd"><td>DNS</td>
<td>12.0.0</td>
</tr>
</tbody>
</table>
<p>AskF5 SOL with this info:
<a class="reference external" href="https://support.f5.com/kb/en-us/solutions/public/14000/500/sol14592.html">https://support.f5.com/kb/en-us/solutions/public/14000/500/sol14592.html</a></p>
<ol class="arabic simple">
<li>Port 22 and 443 must be open to the BIG-IQ management address, or any
alternative IP address used to add the BIG-IP device to the BIG-IQ
inventory.</li>
</ol>
<div class="section" id="big-ip-devices">
<h3>3.2.1. Big-IP Devices<a class="headerlink" href="#big-ip-devices" title="Permalink to this headline">¶</a></h3>
<p>Adding a BIG-IP device to the BIG-IQ system inventory is the first step
to management. First, we will be adding an HA pair of devices to be
managed in BIG-IQ.</p>
<p><strong>**Important-</strong> Before you attempt to add the BIG-IP cluster
(<strong>*BOS-vBIGIP01.termmarc.com*</strong> and <strong>*BOS-vBIGIP02.termmarc.com*</strong>),
make sure that the devices are <strong>‘In Sync’</strong> from a configuration
standpoint or you will get an error when attempting to import. You will
need to access one of the devices directly to do this. Log in to either
<strong>BOS-BIGIP</strong> from the UDF Components page and sync the configs<strong>.</strong></p>
<p>**DO NOT SKIP THE ABOVE STEP**</p>
<ol class="arabic simple">
<li>Log in to the BIG-IQ system with your user name (admin) and password
(admin).</li>
<li>On the top menu bar, select <strong>Devices</strong> from the BIG-IQ menu.</li>
<li>On the left-hand menu bar, click <strong>BIG-IP Devices</strong>.</li>
<li>Click the <strong>Add Device</strong> button in the main pane.<ol class="loweralpha">
<li>In the <strong>IP Address (10.1.1.10)</strong> field, type the IPv4 or IPv6
address of the device.</li>
<li>In the <strong>User Name</strong> and <strong>Password</strong> fields, type the user name
(admin) and password (admin) for the device.</li>
<li>Cluster Display Name: Select <strong>Create New.</strong></li>
<li>Name the cluster <strong>BostonCluster</strong></li>
<li>Leave the <strong>‘Initiate..’</strong> radio button checked</li>
</ol>
</li>
</ol>
<p><a class="reference internal" href="media/image68.png"><img alt="image68" src="media/image68.png" style="width: 5.95902in; height: 3.15387in;" /></a></p>
<ol class="arabic">
<li><p class="first">Click the Add button to add this device to BIG-IQ.</p>
</li>
<li><p class="first">BIG-IQ now exchanges certs with the BIG-IP and pops up a window for
the administrator to select which modules to manage from BIG-IQ. For
this device, select all services except <strong>Fraud Protection
Services.</strong> Leave the Statistics monitoring boxes all checked, and
then click the <strong>Continue</strong> button.</p>
<blockquote>
<div><p><a class="reference internal" href="media/image69.png"><img alt="image69" src="media/image69.png" style="width: 4.90302in; height: 4.77049in;" /></a></p>
</div></blockquote>
</li>
</ol>
<ol class="arabic simple">
<li>The discovery process will start and you should see a screen like
this. At this point, BIG-IQ is using REST calls to the BIG-IP to pull
the selected parts of the BIG-IP configuration into BIG-IQ.</li>
</ol>
<p><a class="reference internal" href="media/image70.png"><img alt="image70" src="media/image70.png" style="width: 6.50000in; height: 1.25278in;" /></a></p>
<p>While the discovery process is happening for the first device, add the
second device to BIG-IQ:</p>
<ol class="arabic simple">
<li>Click the <strong>Add Device</strong> button.<ol class="loweralpha">
<li>In the <strong>IP Address (10.1.1.11)</strong> field, type the IPv4 or IPv6
address of the device.</li>
<li>In the <strong>User Name</strong> and <strong>Password</strong> fields, type the user name
(admin) and password (admin) for the device.</li>
<li>Cluster Display Name: Select <strong>Use Existing.</strong></li>
<li>Select <strong>BostonCluster</strong> from the list of existing clusters.</li>
<li>Leave the <strong>‘Initiate..’</strong> radio button checked</li>
</ol>
</li>
<li>Click the Add button to add this device to BIG-IQ.</li>
<li>For this device, again, select all services except <strong>Fraud Protection
Services.</strong> Leave the Statistics monitoring boxes all checked, and
then click the <strong>Continue</strong> button.</li>
</ol>
<p>Allow the import jobs to complete. At this point, the configuration of
the BIG-IPs that have been imported are not yet editable in BIG-IQ. To
make the configurations editable in BIG-IQ, we need to <a class="reference internal" href="media/image71.png"><img alt="image71" src="media/image71.png" style="width: 1.60397in; height: 0.21872in;" /></a>.</p>
<ol class="arabic simple">
<li>On the Device Inventory screen, click the <a class="reference internal" href="media/image71.png"><img alt="image72" src="media/image71.png" style="width: 1.60397in; height: 0.21872in;" /></a>link in the
Services column for <strong>BOS-vBIGIP01</strong>. <em>(you may need to scroll right
to see the services column</em>)</li>
</ol>
<p><a class="reference internal" href="media/image72.png"><img alt="image73" src="media/image72.png" style="width: 6.50000in; height: 1.30833in;" /></a></p>
<ol class="arabic simple">
<li>In the Local Traffic (LTM) Section, select the check box for “Create
a snapshot of the current configuration before importing” and click
the <strong>Import</strong> button.</li>
</ol>
<p><a class="reference internal" href="media/image73.png"><img alt="image74" src="media/image73.png" style="width: 6.50000in; height: 1.04444in;" /></a></p>
<ol class="arabic simple">
<li>Before proceeding un-check the LTM snapshot box if still checked. In
the Access Policy (APM) Section, select the check box for “Create a
snapshot of the current configuration before importing” and click the
<strong>Import</strong> button.</li>
</ol>
<p><a class="reference internal" href="media/image74.png"><img alt="image75" src="media/image74.png" style="width: 6.50000in; height: 0.83611in;" /></a></p>
<p>BIG-IQ Access has its own notion of device grouping called “Access
Groups” where you define a “Source Device” where configuration changes
can be made and deployed to the other devices in the Access Group.
Create a new Access Group by choosing <strong>Create</strong> New from the Access
Group drop-down. Then name the new group <strong>BostonAG</strong>, and Click the Add
button to continue.</p>
<blockquote>
<div><a class="reference internal" href="media/image75.png"><img alt="image76" src="media/image75.png" style="width: 3.39984in; height: 0.85246in;" /></a></div></blockquote>
<ol class="arabic simple">
<li>In the Application Security (ASM) Section, select the check box for
“Create a snapshot of the current configuration before importing” and
click the <strong>Import</strong> button.</li>
</ol>
<p><a class="reference internal" href="media/image76.png"><img alt="image77" src="media/image76.png" style="width: 6.50000in; height: 0.73333in;" /></a></p>
<ol class="loweralpha">
<li><p class="first">In step 14, you will experience “Conflict Resolution.” A conflict is
when an object that is already in the BIG-IQ working config has the
same name, but different contents as an object that exists on the
BIG-IP that is being imported. The user must select whether to keep
the object from BIGIP or BIGIQ configuration. Storage will be updated
accordingly. Review the differences that have been discovered as part
of this import by clicking on each row in the difference view.</p>
<blockquote>
<div><p><a class="reference internal" href="media/image77.png"><img alt="image78" src="media/image77.png" style="width: 5.14127in; height: 2.46233in;" /></a></p>
</div></blockquote>
</li>
</ol>
<ol class="loweralpha">
<li><p class="first">In this lab, we are going to choose to keep the version of the object
that is already in the BIG-IQ. Click the continue button.</p>
</li>
<li><p class="first">A window reminds us that these conflict resolution selections will
not modify the configuration that is running on this BIG-IP until we
deploy changes from BIG-IQ. Click the Resolve button to continue.</p>
<blockquote>
<div><p><a class="reference internal" href="media/image78.png"><img alt="image79" src="media/image78.png" style="width: 3.51639in; height: 1.47646in;" /></a></p>
</div></blockquote>
</li>
</ol>
<ol class="arabic simple">
<li>In the Advanced Firewall (AFM) Section, select the check box for
“Create a snapshot of the current configuration before importing” and
click the <strong>Import</strong> button.</li>
</ol>
<p><a class="reference internal" href="media/image79.png"><img alt="image80" src="media/image79.png" style="width: 6.50000in; height: 0.71667in;" /></a></p>
<ol class="loweralpha simple">
<li>Again, you will experience the conflict resolution screens. Choose to
keep the objects that are already on the BIG-IQ.</li>
</ol>
<ol class="arabic simple">
<li>In the BIG-IP (DNS) Section, click the <strong>Import</strong> button.</li>
</ol>
<p><a class="reference internal" href="media/image80.png"><img alt="image81" src="media/image80.png" style="width: 6.50000in; height: 0.55903in;" /></a></p>
<ol class="arabic">
<li><p class="first">Click the back arrow button at the top of the section to return to
the inventory.</p>
<p><a class="reference internal" href="media/image81.png"><img alt="image82" src="media/image81.png" style="width: 2.26013in; height: 0.93738in;" /></a></p>
</li>
<li><p class="first">Repeat steps 11-20 for BOS-vBIGIP02</p>
</li>
</ol>
<p><a class="reference internal" href="media/image82.png"><img alt="image83" src="media/image82.png" style="width: 6.50000in; height: 1.12500in;" /></a></p>
<ul class="simple">
<li>For the APM import, make sure to choose <strong>Add to existing</strong> for the
Access Group and select the <strong>BostonAG.</strong> Accept any conflicts.</li>
</ul>
<ol class="arabic">
<li><p class="first">Once you have completed all of the import tasks for <strong>BIGIP02</strong>,
click the arrow in the upper left of the Services panel to return to
the device inventory screen.</p>
<p><a class="reference internal" href="media/image81.png"><img alt="image84" src="media/image81.png" style="width: 2.26013in; height: 0.93738in;" /></a></p>
</li>
<li><p class="first">Click on the <strong>BOS-vBIGIP01.termmarc.com</strong> device link to review the
device Properties, Health, and Services information for the device.</p>
<p><a class="reference internal" href="media/image83.png"><img alt="image85" src="media/image83.png" style="width: 4.62442in; height: 1.35400in;" /></a></p>
</li>
<li><p class="first">Click through the Properties, Health, Statistics Collection, and
Services tabs to review the information.</p>
</li>
<li><p class="first">Click the arrow in the upper left of the Services panel to return to
the device inventory screen.</p>
<p><a class="reference internal" href="media/image84.png"><img alt="image86" src="media/image84.png" style="width: 3.92659in; height: 1.02071in;" /></a></p>
</li>
<li><p class="first">Repeat steps 20-22 for the other devices, if you wish.</p>
</li>
<li><p class="first">Click the Export Inventory button in the main pane to review the
contents of the device inventory CSV file</p>
</li>
<li><p class="first">The CSV file is automatically downloaded to your client. Launch the
CSV file from your downloads folder. For example, in Chrome the CSV
file will appear in the lower left.</p>
<p><a class="reference internal" href="media/image85.png"><img alt="image87" src="media/image85.png" style="width: 2.45803in; height: 0.56243in;" /></a></p>
</li>
<li><p class="first">Review the contents of the file and understand all of the information
that is provided. The picture below shows what the exported inventory
would look like in Microsoft Excel. The JumpBox you are using for the
LAB does not have Excel installed so you can choose to skip the
review of the file or use Notepad.</p>
<p><a class="reference internal" href="media/image86.png"><img alt="image88" src="media/image86.png" style="width: 6.50000in; height: 1.82639in;" /></a></p>
</li>
</ol>
</div>
</div>
<div class="section" id="workflow-5-automating-device-backups-and-archiving-a-copy-of-the-backup-file">
<h2>3.3. WORKFLOW 5: Automating device backups and archiving a copy of the backup file<a class="headerlink" href="#workflow-5-automating-device-backups-and-archiving-a-copy-of-the-backup-file" title="Permalink to this headline">¶</a></h2>
<p>Time to Complete: 5 min</p>
<p>BIG-IQ provides the ability to backup individual or groups of managed
devices on an ad-hoc or a scheduled basis. The admin can decide how long
to retain the backups on BIG-IQ and has the option of archiving a copy
of the UCS backup off to an external device for DR or deeper storage
purposes.</p>
<p>In this scenario, we are going to create a group of all of the devices
in our Boston data center and schedule a nightly backup that archives a
copy off to our archive for DR purposes.</p>
<p>First, we need to create the group for our backup schedule to reference.
We have two options in BIG-IQ: static groups, where devices are added
and removed manually and dynamic groups, where devices are selected from
a source group based on filter criteria. In this lab setup, the devices
have BOS in the name to indicate that they are in the Boston data
center. This makes the dynamic group the logical choice.</p>
<ol class="arabic">
<li><p class="first">On the top menu bar, select <strong>Devices</strong> from the BIG-IQ menu.</p>
</li>
<li><p class="first">Click <strong>Device Groups</strong> in the left-hand menu</p>
</li>
<li><p class="first">Click <strong>Create</strong> in the main pane</p>
</li>
<li><div class="first line-block">
<div class="line">Complete the settings to create the group.</div>
<div class="line">Name: <strong>BostonDCGroup</strong></div>
<div class="line">Group Type: <strong>Dynamic</strong></div>
<div class="line">Parent Group: <strong>Root (All BIG-IP Devices)</strong></div>
<div class="line">Search Filter: <strong>BOS</strong></div>
</div>
<p><a class="reference internal" href="media/image87.png"><img alt="image89" src="media/image87.png" style="width: 4.93125in; height: 3.26643in;" /></a></p>
</li>
<li><p class="first">Click the <strong>Save &amp; Close</strong> button to save the group.</p>
</li>
</ol>
<p>Now, we can create our backup schedule that references this dynamic
group.</p>
<ol class="arabic">
<li><p class="first">Click on the <strong>Back Up &amp; Restore</strong> on the left-hand menu</p>
</li>
<li><p class="first">Click on <strong>Backup Schedules</strong></p>
<p><a class="reference internal" href="media/image88.png"><img alt="image90" src="media/image88.png" style="width: 2.28096in; height: 1.23943in;" /></a></p>
</li>
<li><p class="first">Click the <strong>Create</strong> button in the main page.</p>
</li>
<li><div class="first line-block">
<div class="line">Fill out the Backup Schedule</div>
<div class="line">Name: <strong>BostonNightly</strong></div>
<div class="line">Local Retention Policy: <strong>Delete local backup copy 3 days after
creation</strong></div>
<div class="line">Backup Frequency: <strong>Daily</strong></div>
<div class="line">Start Time 00:00 Eastern Standard Time</div>
</div>
<p>Under Devices, select the <strong>Groups</strong> radio button</p>
<div class="line-block">
<div class="line">Select from the drop-down <strong>BostonDCGroup</strong></div>
<div class="line">Archive: <strong>Store Archive Copy of Backup</strong></div>
<div class="line">Location: <strong>SCP</strong></div>
<div class="line">IP Address: <strong>10.1.10.80</strong></div>
<div class="line">User name: f5</div>
<div class="line">Password: default</div>
<div class="line">Directory: /home/f5</div>
<div class="line"><a class="reference internal" href="media/image89.png"><img alt="image91" src="media/image89.png" style="width: 4.59341in; height: 4.11475in;" /></a></div>
</div>
</li>
</ol>
<p><a class="reference internal" href="media/image90.png"><img alt="image92" src="media/image90.png" style="width: 4.52576in; height: 1.54098in;" /></a></p>
<ol class="arabic simple">
<li>Click <strong>Save &amp; Close</strong> to save the scheduled backup job.</li>
</ol>
</div>
<div class="section" id="workflow-6-uploading-qkviews-to-ihealth-for-a-support-case">
<h2>3.4. WORKFLOW 6: Uploading QKviews to iHealth for a support case<a class="headerlink" href="#workflow-6-uploading-qkviews-to-ihealth-for-a-support-case" title="Permalink to this headline">¶</a></h2>
<p>BIG-IQ can now push qkviews from managed devices to ihealth.f5.com and
provide a report of heuristic hits based on the qkview. These qkview
uploads can be performed ad-hoc or as part of a F5 support case. If a
support case is specified in the upload job, the qkview(s) will
automatically be associated/linked to the support case.</p>
<ol class="arabic">
<li><p class="first">Navigate to <strong>Monitoring</strong> on the top menu bar and then to
<strong>REPORTS-&gt; Device-&gt; iHealth</strong> -&gt; <strong>Configuration</strong> on the left-hand
menu<strong>.</strong></p>
<p><a class="reference internal" href="media/image91.png"><img alt="image93" src="media/image91.png" style="width: 5.94973in; height: 4.06557in;" /></a></p>
</li>
<li><p class="first">Add Credentials to be used for the qkview upload and report
retrieval. Click the Add button under Credentials.</p>
<p><a class="reference internal" href="media/image92.png"><img alt="image94" src="media/image92.png" style="width: 1.88518in; height: 0.92697in;" /></a></p>
</li>
<li><div class="first line-block">
<div class="line">Fill in the credentials that you used to access
<a class="reference external" href="https://ihealth.f5.com">https://ihealth.f5.com</a> :</div>
<div class="line">Name: <strong>Give the credentials a name to be referenced in BIG-IQ</strong></div>
<div class="line">Username: <strong>&lt;Username you use to access iHealth.f5.com&gt;</strong></div>
<div class="line">Password: <strong>&lt;Password you use to access iHealth.f5.com</strong>&gt;</div>
</div>
</li>
<li><p class="first">Click the Test button to validate that your credentials work.</p>
<p><a class="reference internal" href="media/image93.png"><img alt="image95" src="media/image93.png" style="width: 3.62295in; height: 2.27173in;" /></a></p>
</li>
<li><p class="first">Click the <strong>Save &amp; Close</strong> button in the lower right.</p>
</li>
<li><p class="first">Click the <strong>Tasks</strong> button in the BIG-IQ iHealth menu.</p>
<p><a class="reference internal" href="media/image94.png"><img alt="image96" src="media/image94.png" style="width: 1.93125in; height: 1.26279in;" /></a></p>
</li>
<li><p class="first">Click the <strong>QKView Upload</strong> button to select which devices we need to
upload QkViews from:</p>
<p><a class="reference internal" href="media/image95.png"><img alt="image97" src="media/image95.png" style="width: 1.93125in; height: 1.06679in;" /></a></p>
</li>
<li><div class="first line-block">
<div class="line">Fill in the fields to upload the QkViews to iHealth.</div>
<div class="line">Name: <strong>QKViewUpload5346</strong> (append the last 4 digits of your cell
number to make this request unique)</div>
<div class="line">Credentials: <strong>&lt;Select the credentials you just stored in step 5&gt;</strong></div>
<div class="line">Devices: Select <strong>ip-10-1-1-7.us-west-2.compute.internal</strong></div>
</div>
</li>
</ol>
<p><a class="reference internal" href="media/image96.png"><img alt="image98" src="media/image96.png" style="width: 6.38198in; height: 2.57377in;" /></a></p>
<ol class="arabic">
<li><p class="first">Click the <strong>Save &amp; Close</strong> button in the lower right. The task will
be started immediately.</p>
<p>*Note that you can also schedule QKview uploads on a regular basis
using the <strong>QKView Upload Schedules</strong> on the left menu bar</p>
</li>
<li><p class="first">Click on the name of your upload job to get more details</p>
<p><a class="reference internal" href="media/image97.png"><img alt="image99" src="media/image97.png" style="width: 2.82256in; height: 0.74991in;" /></a></p>
</li>
<li><p class="first">Observe the progress of the Qkview creation, retrieval, upload,
processing, and reporting. This operation can take some time, so you
may want to move on to the next exercise and come back.</p>
</li>
<li><p class="first">Once a job reaches the Finished status, click on the Reports menu to
review the report.</p>
<p><a class="reference internal" href="media/image98.png"><img alt="image100" src="media/image98.png" style="width: 1.93125in; height: 1.35353in;" /></a></p>
</li>
<li><p class="first">Select the report you just created and click the <strong>Open</strong> hyperlink
under the Report Column</p>
<p><a class="reference internal" href="media/image99.png"><img alt="image101" src="media/image99.png" style="width: 6.49097in; height: 1.23125in;" /></a></p>
</li>
<li><p class="first">You can also run the Upgrade Advisor from the BIG-IQ if you are
running an older version of code. Select <strong>Upgrade Advisor Reports</strong>
from the left-hand menu bar and then click the <strong>Create</strong> button in
the main window pane.</p>
</li>
<li><p class="first">Give your Upgrade Advisor Task a name and select the <strong>ip-10-1-1-7</strong>
device. Choose your Target Version and then <strong>Save &amp; Close</strong></p>
</li>
<li><p class="first">Click on the <strong>Upgrade Advisor Reports</strong> on the left-hand menu bar
and your new report should show up shortly. You can see the status of
the report generation by clicking <strong>Tasks</strong> on the left-hand
menu-bar. Click on the <strong>Target Software Version</strong> column to view
your results.</p>
</li>
</ol>
<p>The End</p>
<blockquote>
<div></div></blockquote>
</div>
</div>


        
		     <div class="row next-prev-btn-row">
           <div class="col-lg-12">
           
		        <a href="lab1.html" title="2. BIG-IQ Access Policy Manager" accesskey="p" class="btn btn-primary pull-left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
           
           
		     </div>
         </div>
        
      </div>
    </div>
  </div>


  <footer>
      <div class="container-fluid">
        <div class="row">
          <div class="content-fluid pre-footer">
            <div class="blocks-container">
              <div class="block">
                <h3>Support Programs</h3>
                <p>Regionally located support centers enable F5 to provide support in a number of languages through native-speaking support engineers.</p>
                <a class="btn internalLink" data-ng-href="https://f5.com/support/support-offerings" target="_blank" href="https://f5.com/support/support-offerings">See more
                  <span class="icon-1x-right icon-new-window" data-icon="new-window">​</span>
                </a>
              </div>
              <div class="block">
                <h3>Contact Support</h3>
                <p>
                  North America: 1-888-882-7535<br>
                  Outside North America: 800-11-275-435
                </p>
                <a class="btn internalLink" data-ng-href="https://f5.com/about-us/contact#regional-support" target="_blank" href="https://f5.com/about-us/contact#regional-support">Local Support Numbers
                  <span class="icon-1x-right icon-new-window" data-icon="new-window">​</span>
                </a>
              </div>
              <div class="block">
                <h3>Feedback and Help</h3>
                <p>Have questions, suggestions, or just want to get something off your chest? Let us know.</p>
                <a class="btn" data-ui-sref="siteFeedback" target="_blank" href="https://support.f5.com/csp/siteFeedback">Leave feedback</a>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="footer">
            <div class="container">
              <div class="col-sm-3 col-md-2">
                <h4>About F5</h4>
                <ul>
                  <li><a data-ng-href="https://f5.com/about-us/contact" target="_blank" data-link-type="footer" href="https://f5.com/about-us/contact" class="internalLink">Contact F5</a>
                  </li>
                  <li><a data-ng-href="https://f5.com/about-us/careers" target="_blank" data-link-type="footer" href="https://f5.com/about-us/careers" class="internalLink">Careers</a>
                  </li>
                </ul>
              </div>
              <div class="col-sm-3 col-md-2">
                <h4>Education</h4>
                <ul>
                  <li><a data-ng-href="https://f5.com/education/training" target="_blank" data-link-type="footer" href="https://f5.com/education/training" class="internalLink">Training</a>
                  </li>
                  <li><a data-ng-href="https://f5.com/education/certification" target="_blank" data-link-type="footer" href="https://f5.com/education/certification" class="internalLink">Certification</a>
                  </li>
                  <li><a data-ng-href="https://f5.com/education/training/free-courses" target="_blank" data-link-type="footer" href="https://f5.com/education/training/free-courses" class="internalLink">Free Online Training</a>
                  </li>
                </ul>
              </div>

              <div class="col-sm-3 col-md-2">
                <h4>F5 sites</h4>
                <ul>
                <li><a data-ng-href="https://f5.com" target="_blank" data-link-type="footer" href="https://f5.com" class="internalLink">F5.com</a>
                </li>
                <li><a data-ng-href="https://devcentral.f5.com" target="_blank" data-link-type="footer" href="https://devcentral.f5.com" class="internalLink">Community</a>
                </li>
                <li><a data-ng-href="https://partners.f5.com" target="_blank" data-link-type="footer" href="https://partners.f5.com" class="internalLink">Partners</a>
                </li>
            </ul>
        </div>

        <div class="col-sm-3 col-md-2">
            <h4>Support Tasks</h4>
            <ul>
                <li><a data-ui-sref="mySupport.createServiceRequest" data-link-type="footer" href="https://support.f5.com/csp/my-support/service-request">Create Service Request </a>
                </li>
                <li><a data-ng-href="https://f5.com/about-us/contact#regional-support" target="_blank" data-link-type="footer" href="https://f5.com/about-us/contact#regional-support" class="internalLink">Contact Support</a>
                </li>
                <li><a data-ui-sref="siteFeedback" target="_blank" data-link-type="footer" href="https://support.f5.com/csp/siteFeedback">Leave feedback [+]</a>
                </li>
            </ul>
        </div>

        <div class="col-xs-12 col-md-3 right">
            <h4>Connect with us</h4>
            <ul class="social_icons">
                <li><a href="//twitter.com/f5networks" target="_blank" data-name="twitter" data-type="" data-prefix="social" data-utf="E032" title="Twitter" class="externalLink"><i class="icon-1x icon-twitter icon-inverse-circle" data-link-type="footer"></i></a></li>
                <li><a href="//www.linkedin.com/companies/f5-networks" target="_blank" class="linkedin externalLink" title="LinkedIn"><i class="icon-1x icon-linkedin icon-inverse-circle" data-link-type="footer"></i></a></li>
                <li><a href="//www.facebook.com/f5networksinc" target="_blank" class="facebook externalLink" title="Facebook"><i class="icon-1x icon-facebook icon-inverse-circle" data-link-type="footer"></i></a></li>
                <li><a href="//www.youtube.com/f5networksinc" target="_blank" class="youtube externalLink" title="YouTube"><i class="icon-1x icon-youtube icon-inverse-circle" data-link-type="footer"></i></a></li>
                <li><a data-ng-href="https://devcentral.f5.com" target="_blank" class="devcentral internalLink" title="DevCentral" href="https://devcentral.f5.com"><i class="icon-1x icon-dc-pos icon-inverse-circle" data-link-type="footer"></i></a></li>
            </ul>
        </div>

        <div class="content-fluid left">
            <div class="col-xs-12">
                <p>
                    © Copyright <span class="ng-binding">2017</span> by F5 Networks, Inc. |
                    <a data-ng-href="https://f5.com/about-us/policies" target="_blank" data-link-type="footer" href="https://f5.com/about-us/policies" class="internalLink">Policies</a> |
                    <a data-ng-href="https://f5.com/about-us/policies/trademarks" target="_blank" data-link-type="footer" href="https://f5.com/about-us/policies/trademarks" class="internalLink">Trademarks</a>
                </p>
            </div>
        </div>
    </div>
</div>
    </div>
</div>
</footer>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="_static/js/bootstrap.min.js"></script>
  <script type="text/javascript">
    jQuery.noConflict(true)
  </script>
  </body>
</html>